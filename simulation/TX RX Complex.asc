Version 4
SHEET 1 3664 1556
WIRE 960 -48 912 -48
WIRE 1008 -48 960 -48
WIRE 1120 -48 1072 -48
WIRE 1152 -48 1120 -48
WIRE -416 0 -464 0
WIRE -368 0 -416 0
WIRE -256 0 -304 0
WIRE -224 0 -256 0
WIRE 928 48 832 48
WIRE 992 48 928 48
WIRE 1008 48 1008 -48
WIRE 1008 48 992 48
WIRE 1040 48 1008 48
WIRE 1152 48 1152 -48
WIRE 1152 48 1120 48
WIRE 1184 48 1152 48
WIRE 1424 48 1184 48
WIRE 1552 48 1424 48
WIRE -368 96 -368 0
WIRE -368 96 -400 96
WIRE -336 96 -368 96
WIRE -224 96 -224 0
WIRE -224 96 -256 96
WIRE -208 96 -224 96
WIRE -64 96 -128 96
WIRE 128 96 -64 96
WIRE 304 96 128 96
WIRE 128 144 128 96
WIRE 304 144 304 96
WIRE 832 144 832 48
WIRE 928 144 928 48
WIRE 1136 144 1056 144
WIRE 1184 144 1184 48
WIRE 1184 144 1136 144
WIRE 1232 144 1184 144
WIRE 1312 144 1232 144
WIRE 1552 144 1552 48
WIRE 32 160 16 160
WIRE 80 160 32 160
WIRE 400 160 352 160
WIRE 416 160 400 160
WIRE 1056 160 1056 144
WIRE 1136 160 1136 144
WIRE 1232 160 1232 144
WIRE 1312 160 1312 144
WIRE -256 176 -304 176
WIRE -192 176 -192 144
WIRE -192 176 -256 176
WIRE -144 176 -144 144
WIRE -400 192 -400 96
WIRE -64 192 -64 96
WIRE 80 208 48 208
WIRE 384 208 352 208
WIRE 992 208 992 48
WIRE 48 224 48 208
WIRE 384 224 384 208
WIRE 464 224 432 224
WIRE 576 224 528 224
WIRE 720 224 688 224
WIRE 832 224 832 208
WIRE 832 224 784 224
WIRE 128 256 128 224
WIRE 432 256 432 224
WIRE 432 256 128 256
WIRE 1056 256 1056 240
WIRE 1136 256 1136 240
WIRE 1136 256 1056 256
WIRE 1184 256 1136 256
WIRE 1232 256 1232 240
WIRE 1232 256 1184 256
WIRE 1312 256 1312 240
WIRE 1312 256 1232 256
WIRE 304 272 304 224
WIRE 432 272 304 272
WIRE 128 304 128 256
WIRE 304 304 304 272
WIRE 432 304 432 272
WIRE 576 304 432 304
WIRE 928 304 928 208
WIRE 928 304 688 304
WIRE 1184 304 1184 256
WIRE 32 320 16 320
WIRE 80 320 32 320
WIRE 400 320 352 320
WIRE 416 320 400 320
WIRE 832 320 832 224
WIRE 928 320 928 304
WIRE 1280 320 1232 320
WIRE 1328 320 1280 320
WIRE 1552 320 1552 224
WIRE 1440 336 1408 336
WIRE 1504 336 1440 336
WIRE 80 368 48 368
WIRE 384 368 352 368
WIRE 1264 368 1232 368
WIRE 48 384 48 368
WIRE 384 384 384 368
WIRE 1504 384 1472 384
WIRE -400 416 -400 272
WIRE -304 416 -400 416
WIRE -64 416 -64 256
WIRE -64 416 -304 416
WIRE 128 416 128 384
WIRE 128 416 -64 416
WIRE 304 416 304 384
WIRE 304 416 128 416
WIRE 832 416 832 384
WIRE 928 416 928 384
WIRE 928 416 832 416
WIRE 992 416 992 272
WIRE 992 416 928 416
WIRE 1152 416 992 416
WIRE 1184 416 1184 384
WIRE 1184 416 1152 416
WIRE 1264 416 1264 368
WIRE 1264 416 1184 416
WIRE 1472 416 1472 384
WIRE 1472 416 1264 416
WIRE 1552 416 1552 400
WIRE 1552 416 1472 416
WIRE -304 448 -304 416
WIRE 1152 448 1152 416
WIRE 64 528 -192 528
WIRE 192 528 144 528
WIRE 256 528 192 528
WIRE 416 528 256 528
WIRE 432 528 416 528
WIRE 784 528 752 528
WIRE 816 528 784 528
WIRE -624 560 -720 560
WIRE -576 560 -624 560
WIRE -352 560 -384 560
WIRE 624 560 624 528
WIRE 816 560 816 528
WIRE -720 576 -720 560
WIRE 192 576 192 528
WIRE 256 576 256 528
WIRE 304 576 256 576
WIRE 416 576 368 576
WIRE 432 576 416 576
WIRE -352 592 -352 560
WIRE -192 592 -192 528
WIRE 1280 592 1264 592
WIRE 1456 592 1360 592
WIRE 80 608 80 576
WIRE 80 608 16 608
WIRE 128 608 128 576
WIRE 1024 640 1024 624
WIRE 624 656 624 640
WIRE 672 656 624 656
WIRE 816 656 816 640
WIRE 928 656 816 656
WIRE 992 656 928 656
WIRE 1376 656 1376 640
WIRE 192 672 192 656
WIRE 624 672 624 656
WIRE 816 672 816 656
WIRE 1152 672 1088 672
WIRE 1168 672 1152 672
WIRE 1264 672 1264 592
WIRE 1264 672 1248 672
WIRE 1344 672 1264 672
WIRE -720 688 -720 656
WIRE -352 688 -352 672
WIRE 992 688 960 688
WIRE 1456 688 1456 592
WIRE 1456 688 1440 688
WIRE 1536 688 1456 688
WIRE 1552 688 1536 688
WIRE -192 704 -192 672
WIRE 1296 704 1280 704
WIRE 1344 704 1296 704
WIRE 1552 704 1552 688
WIRE 1024 720 1024 704
WIRE 1376 752 1376 720
WIRE 624 768 624 752
WIRE 816 768 816 752
WIRE 960 768 960 688
WIRE 1152 768 1152 672
WIRE 1152 768 960 768
WIRE 944 864 896 864
WIRE 1088 864 1024 864
WIRE -640 896 -640 864
WIRE 80 896 80 864
WIRE 608 912 608 880
WIRE -768 928 -832 928
WIRE -688 928 -768 928
WIRE -48 928 -112 928
WIRE 32 928 -48 928
WIRE -432 960 -480 960
WIRE -304 960 -352 960
WIRE -272 960 -304 960
WIRE 288 960 240 960
WIRE 416 960 368 960
WIRE 448 960 416 960
WIRE 992 960 992 944
WIRE 768 976 736 976
WIRE 800 976 768 976
WIRE 896 976 896 864
WIRE 896 976 880 976
WIRE 960 976 896 976
WIRE -768 992 -832 992
WIRE -688 992 -768 992
WIRE -304 992 -304 960
WIRE -48 992 -112 992
WIRE 32 992 -48 992
WIRE 416 992 416 960
WIRE 1088 992 1088 864
WIRE 1088 992 1056 992
WIRE 1168 992 1088 992
WIRE 1184 992 1168 992
WIRE 1296 992 1184 992
WIRE 608 1008 608 992
WIRE 656 1008 608 1008
WIRE 912 1008 896 1008
WIRE 960 1008 912 1008
WIRE 1168 1008 1168 992
WIRE 608 1024 608 1008
WIRE 1472 1040 1408 1040
WIRE 1536 1040 1472 1040
WIRE 992 1056 992 1024
WIRE -608 1072 -608 1024
WIRE -576 1072 -576 1008
WIRE -576 1072 -608 1072
WIRE 112 1072 112 1024
WIRE 144 1072 144 1008
WIRE 144 1072 112 1072
WIRE -640 1104 -640 1040
WIRE -576 1104 -576 1072
WIRE -304 1104 -304 1056
WIRE 80 1104 80 1040
WIRE 144 1104 144 1072
WIRE 416 1104 416 1056
WIRE 608 1120 608 1104
FLAG 48 224 0
FLAG 48 384 0
FLAG 384 224 0
FLAG 384 384 0
FLAG 32 160 SW1
FLAG 400 320 SW1
FLAG 32 320 SW2
FLAG 400 160 SW2
FLAG 1424 48 Vout
FLAG -304 448 0
FLAG -192 704 0
FLAG 416 528 SW1
FLAG 416 576 SW2
FLAG 1152 448 0
FLAG 1280 320 FaultOV
FLAG 1440 336 Vcharge
FLAG -624 560 Vcharge
FLAG -720 688 0
FLAG -144 176 0
FLAG -256 176 !FaultOL
FLAG -416 0 ISEN+
FLAG -256 0 ISEN-
FLAG -352 688 0
FLAG -768 928 ISEN+
FLAG -768 992 ISEN-
FLAG -640 1104 0
FLAG -272 960 ISEN
FLAG 1472 1040 !FaultOL
FLAG -384 560 5V
FLAG -576 1104 0
FLAG -304 1104 0
FLAG 128 608 0
FLAG 16 608 !FaultOL
FLAG 192 672 0
FLAG 1376 752 0
FLAG 1376 640 5V
FLAG 1296 704 Vref1
FLAG 624 528 5V
FLAG 672 656 Vref1
FLAG 624 768 0
FLAG 1552 784 0
FLAG 816 768 0
FLAG 1024 624 5V
FLAG 1024 720 0
FLAG 784 528 Vout
FLAG 1536 688 FaultOV
FLAG -640 864 5V
FLAG 992 1056 0
FLAG 992 944 5V
FLAG 1168 1088 0
FLAG 768 976 ISEN
FLAG 1184 992 FaultOL
FLAG 928 656 VSEN
FLAG -48 928 ISENO+
FLAG -48 992 ISENO-
FLAG 80 1104 0
FLAG 448 960 ISENO
FLAG 144 1104 0
FLAG 416 1104 0
FLAG 80 864 5V
FLAG 960 -48 ISENO+
FLAG 1120 -48 ISENO-
FLAG 912 1008 Vref2
FLAG 608 880 5V
FLAG 656 1008 Vref2
FLAG 608 1120 0
SYMBOL sw 128 240 M180
SYMATTR InstName S1
SYMATTR Value MSW
SYMBOL sw 128 400 M180
SYMATTR InstName S2
SYMATTR Value MSW
SYMBOL sw 304 400 R180
SYMATTR InstName S3
SYMATTR Value MSW
SYMBOL sw 304 240 R180
SYMATTR InstName S4
SYMATTR Value MSW
SYMBOL cap -80 192 R0
SYMATTR InstName C3
SYMATTR Value 1320µ
SYMATTR SpiceLine Rser=4m Lser=1n
SYMBOL voltage -400 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.01
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL ind2 560 208 R0
WINDOW 3 11 107 Left 2
SYMATTR Value 5.8µ
SYMATTR InstName L1
SYMATTR Type ind
SYMATTR SpiceLine Rser=12m
SYMBOL ind2 704 208 M0
WINDOW 3 -1 107 Left 2
SYMATTR Value 5.8µ
SYMATTR InstName L2
SYMATTR Type ind
SYMATTR SpiceLine Rser=12m
SYMBOL diode 848 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value DI
SYMBOL diode 848 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value DI
SYMBOL diode 944 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value DI
SYMBOL diode 944 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value DI
SYMBOL cap 976 208 R0
SYMATTR InstName C4
SYMATTR Value 1000µ
SYMATTR SpiceLine Rser=1m Lser=0.1n
SYMBOL Misc\\signal -192 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -316 161 Left 2
SYMATTR Value PULSE(0 12 0 1n 1n 3u 6u)
SYMATTR InstName V2
SYMBOL Digital\\inv 304 512 R0
SYMATTR InstName A1
SYMBOL cap 528 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 400n
SYMATTR SpiceLine Rser=38m
SYMBOL cap 784 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 400n
SYMATTR SpiceLine Rser=38m
SYMBOL res 1120 144 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 1536 128 R0
SYMATTR InstName R2
SYMATTR Value 6.48
SYMBOL sw 1184 400 R180
WINDOW 0 15 11 Left 2
WINDOW 3 10 101 Left 2
SYMATTR InstName S5
SYMATTR Value MSW
SYMBOL res 1216 144 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL sw 1552 416 M180
WINDOW 0 15 11 Left 2
WINDOW 3 10 101 Left 2
SYMATTR InstName S6
SYMATTR Value MSW
SYMBOL Misc\\signal -720 560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -123 174 Left 2
SYMATTR Value PULSE(0 5 10ms 1n 1n 1 1)
SYMATTR InstName V3
SYMBOL res 1040 144 R0
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res 1296 144 R0
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL res -240 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 0.005
SYMBOL sw -112 96 M270
WINDOW 0 15 20 VLeft 2
WINDOW 3 49 84 VLeft 2
SYMATTR InstName S7
SYMATTR Value MSW
SYMBOL AIN240 -320 992 R0
SYMATTR InstName X1
SYMATTR Prefix X
SYMATTR Value INA240A1
SYMBOL voltage -352 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL Digital\\srflop 1344 944 R0
SYMATTR InstName A2
SYMBOL cap -320 992 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL res -336 944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 2k
SYMBOL sw 160 528 M270
WINDOW 0 -19 17 VLeft 2
WINDOW 3 -18 159 VLeft 2
SYMATTR InstName S8
SYMATTR Value MSW
SYMBOL res 176 560 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL LMC6032 1376 688 R0
WINDOW 0 35 -28 Bottom 2
WINDOW 3 75 27 Top 2
SYMATTR InstName U1
SYMBOL res 1264 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 0.4k
SYMBOL res 1376 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 608 544 R0
SYMATTR InstName R12
SYMATTR Value 11.5k
SYMBOL res 608 656 R0
SYMATTR InstName R13
SYMATTR Value 9.09k
SYMBOL res 1536 688 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 800 544 R0
SYMATTR InstName R15
SYMATTR Value 18.0k
SYMBOL res 800 656 R0
SYMATTR InstName R16
SYMATTR Value 2.5k
SYMBOL LMC6032 1024 672 R0
WINDOW 0 35 -28 Bottom 2
WINDOW 3 74 27 Top 2
SYMATTR InstName U2
SYMBOL LMC6032 992 992 R0
WINDOW 0 35 -28 Bottom 2
WINDOW 3 75 27 Top 2
SYMATTR InstName U3
SYMBOL res 784 992 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 1040 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL res 1152 992 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL AIN240 400 992 R0
SYMATTR InstName X2
SYMATTR Prefix X
SYMATTR Value INA240A1
SYMBOL cap 400 992 R0
SYMATTR InstName C6
SYMATTR Value 0.1µ
SYMBOL res 384 944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL res 1136 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 0.005
SYMBOL res 592 896 R0
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL res 592 1008 R0
SYMATTR InstName R22
SYMATTR Value 12k
TEXT 568 192 Left 2 !K L1 L2 0.5
TEXT 1776 112 Left 2 !.tran 0 20m 0 20n
TEXT 1776 144 Left 2 !.model MSW SW(Ron=0.001 Roff=1Meg Vt=.5)
TEXT 1776 176 Left 2 !.model DI D(Ron=0.01 Roff=10Meg Vfwd=0.5 Vrev=1000)
TEXT 1776 216 Left 2 !.inc D:\\AUV Capstone\\AUV-Senior-Design\\Mark\\WPT Sims\\lib\\ina240a1.lib
TEXT -112 720 Left 2 ;Turn off switching signal if open load fault. \nThis would be done with the TX micro in the real system
TEXT 1776 248 Left 2 !.inc D:\\AUV Capstone\\AUV-Senior-Design\\Mark\\WPT Sims\\lib\\LMC6032.MOD
TEXT 744 -8 Left 2 ;RX Board
TEXT 576 344 Left 2 ;WPT Coils
TEXT -496 -56 Left 2 ;TX Board
TEXT 1512 -8 Left 2 ;Charger
TEXT 856 504 Left 2 ;Fault Circuits
TEXT 1192 856 Left 2 ;FaultOV (Over Voltage) on RX board\nFaultOL (Open Load) on TX Board.
TEXT -240 504 Left 2 ;Pulse Generator, MCU
TEXT -456 832 Left 2 ;Input Current Sense
TEXT 288 832 Left 2 ;Output Current Sense
TEXT -840 496 Left 2 ;System Signals and 5V Source
TEXT 1776 72 Left 2 ;Spice Directives
RECTANGLE Normal 1376 432 720 16 1
RECTANGLE Normal 544 432 -512 -32 1
RECTANGLE Normal -160 1152 -864 816 1
RECTANGLE Normal 1648 1152 576 480 1
RECTANGLE Normal 1664 256 1472 16 1
RECTANGLE Normal 560 1152 -144 816 1
RECTANGLE Normal -864 480 560 800 2
